#!/bin/bash
# Minimal Debian/Ubuntu system setup
# ONLY installs base packages needed by other tools

set -e

# Source common utilities
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
source "$SCRIPT_DIR/../../utils/common.sh"

# Install ONLY the essential packages that other tools need
install_base_packages() {
    log_info "Installing minimal base packages for Debian/Ubuntu..."
    
    safe_apt_update
    
    # Absolute minimum packages needed by other installers
    safe_sudo apt install -y \
        curl \
        wget \
        git \
        build-essential \
        ca-certificates \
        gnupg \
        lsb-release \
        unzip
    
    log_success "Base packages installed"
}

# Main
main() {
    log_info "Running minimal Debian/Ubuntu system setup..."
    install_base_packages
    log_success "Debian/Ubuntu base setup complete!"
}

main "$@"